<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Report Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: url('https://www.shutterstock.com/image-illustration/gym-weights-under-strong-dramatic-600nw-472696720.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* Dark overlay for readability */
            z-index: 1;
        }
        .content {
            position: relative;
            z-index: 2;
            padding-top: 50px;
        }
        canvas {
            background: white;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.3);
        }
        /* Stylish Buttons */
        .styled-button {
            background: linear-gradient(90deg, #ff8c00, #ff4500);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease-in-out;
            box-shadow: 0px 5px 15px rgba(255, 69, 0, 0.3);
            outline: none;
            text-decoration: none;
            display: inline-block;
            margin: 20px;
        }
        .styled-button:hover {
            background: linear-gradient(90deg, #ff4500, #ff8c00);
            transform: scale(1.05);
            box-shadow: 0px 8px 20px rgba(255, 69, 0, 0.5);
        }
        .styled-button:active {
            transform: scale(0.95);
        }
        /* Title Style */
        .chart-title {
            font-size: 28px;
            font-weight: bold;
            color: #ff8c00;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>

    <div class="overlay"></div>

    <div class="content">
        <h1 class="chart-title">Fitness Report Chart</h1>
        <canvas id="fitnessChart" width="400" height="200"></canvas>
        <br>
        <h2 class="chart-title">Burned Calories vs Date</h2>
        <canvas id="burnedCaloriesChart" width="400" height="200"></canvas>
        <br>
        <h2 class="chart-title">Heart Rate vs Date</h2>
        <canvas id="heartRateChart" width="400" height="200"></canvas>
        <br>
        <a href="{% url 'home' %}" class="styled-button">Back to Home</a>
    </div>

    
    {{ dates|json_script:"dates" }}
    {{ steps|json_script:"steps" }}
    {{ cardio_time|json_script:"cardio_time" }}
    {{ cool_down_time|json_script:"cool_down_time" }}

    <script>
        // Retrieve and parse JSON data
        var dates = JSON.parse(document.getElementById('dates').textContent);
        var steps = JSON.parse(document.getElementById('steps').textContent);
        var cardio_time = JSON.parse(document.getElementById('cardio_time').textContent);
        var cool_down_time = JSON.parse(document.getElementById('cool_down_time').textContent);

        // Calculate burned calories
        function calculateBurnedCalories(steps, cardioTime, coolDownTime) {
            let caloriesFromSteps = steps * 0.04;
            let caloriesFromCardio = cardioTime * 8;
            let caloriesFromCoolDown = coolDownTime * 3;
            return caloriesFromSteps + caloriesFromCardio + caloriesFromCoolDown;
        }

        var burnedCalories = [];
        for (let i = 0; i < dates.length; i++) {
            let calories = calculateBurnedCalories(steps[i], cardio_time[i], cool_down_time[i]);
            burnedCalories.push(calories);
        }

        // Calculate heart rate
        function calculateHeartRate(steps, cardioTime, coolDownTime) {
            let heartRateFromSteps = (steps / 100) * 0.5; // 0.5 bpm per 100 steps
            let heartRateFromCardio = cardioTime * 10; // 10 bpm per minute of cardio
            let heartRateFromCoolDown = coolDownTime * 3; // 3 bpm per minute of cool down
            return heartRateFromSteps + heartRateFromCardio + heartRateFromCoolDown;
        }

        var heartRates = [];
        for (let i = 0; i < dates.length; i++) {
            let heartRate = calculateHeartRate(steps[i], cardio_time[i], cool_down_time[i]);
            heartRates.push(heartRate);
        }

        // Create the fitness chart
        var ctx = document.getElementById('fitnessChart').getContext('2d');
        var fitnessChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Steps',
                        data: steps,
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Cardio Time (Minutes)',
                        data: cardio_time,
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Cool Down Time (Minutes)',
                        data: cool_down_time,
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Create the burned calories chart
        var ctx2 = document.getElementById('burnedCaloriesChart').getContext('2d');
        var burnedCaloriesChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: dates,
                datasets: [{
                    label: 'Burned Calories',
                    data: burnedCalories,
                    backgroundColor: 'rgba(255, 159, 64, 0.2)',
                    borderColor: 'rgba(255, 159, 64, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Create the heart rate chart
        var ctx3 = document.getElementById('heartRateChart').getContext('2d');
        var heartRateChart = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: dates,
                datasets: [{
                    label: 'Heart Rate (bpm)',
                    data: heartRates,
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>

 -->


 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Fitness Report Chart</title>
     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     <style>
         body {
             font-family: Arial, sans-serif;
             text-align: center;
             background: url('https://www.shutterstock.com/image-illustration/gym-weights-under-strong-dramatic-600nw-472696720.jpg') no-repeat center center fixed;
             background-size: cover;
             color: white;
         }
         .overlay {
             position: absolute;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             background: rgba(0, 0, 0, 0.5);
             z-index: 1;
         }
         .content {
             position: relative;
             z-index: 2;
             padding-top: 50px;
         }
         canvas {
             background: white;
             border-radius: 8px;
             padding: 10px;
             box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.3);
         }
         .styled-button {
             background: linear-gradient(90deg, #ff8c00, #ff4500);
             color: white;
             border: none;
             padding: 15px 30px;
             font-size: 18px;
             font-weight: bold;
             cursor: pointer;
             border-radius: 8px;
             transition: all 0.3s ease-in-out;
             box-shadow: 0px 5px 15px rgba(255, 69, 0, 0.3);
             outline: none;
             text-decoration: none;
             display: inline-block;
             margin: 20px;
         }
         .styled-button:hover {
             background: linear-gradient(90deg, #ff4500, #ff8c00);
             transform: scale(1.05);
             box-shadow: 0px 8px 20px rgba(255, 69, 0, 0.5);
         }
         .styled-button:active {
             transform: scale(0.95);
         }
         .chart-title {
             font-size: 28px;
             font-weight: bold;
             color: #ff8c00;
             margin: 20px 0;
             text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
         }
     </style>
 </head>
 <body>
 
     <div class="overlay"></div>
 
     <div class="content">
         <h1 class="chart-title">Fitness Report Chart</h1>
         <canvas id="fitnessChart" width="400" height="200"></canvas>
         <br>
         <h2 class="chart-title">Burned Calories vs Date</h2>
         <canvas id="burnedCaloriesChart" width="400" height="200"></canvas>
         <br>
         <h2 class="chart-title">Heart Rate vs Date</h2>
         <canvas id="heartRateChart" width="400" height="200"></canvas>
         <br>
         <a href="{% url 'home' %}" class="styled-button">Back to Home</a>
     </div>
 
     
     {{ dates|json_script:"dates" }}
     {{ steps|json_script:"steps" }}
     {{ cardio_time|json_script:"cardio_time" }}
     {{ cool_down_time|json_script:"cool_down_time" }}
 
     <script>
         // Retrieve and parse JSON data
         var dates = JSON.parse(document.getElementById('dates').textContent);
         var steps = JSON.parse(document.getElementById('steps').textContent);
         var cardio_time = JSON.parse(document.getElementById('cardio_time').textContent);
         var cool_down_time = JSON.parse(document.getElementById('cool_down_time').textContent);
 
         // Log data to ensure it's correctly passed
         console.log(dates);
         console.log(steps);
         console.log(cardio_time);
         console.log(cool_down_time);
 
         // Calculate burned calories
         function calculateBurnedCalories(steps, cardioTime, coolDownTime) {
             let caloriesFromSteps = steps * 0.04;
             let caloriesFromCardio = cardioTime * 8;
             let caloriesFromCoolDown = coolDownTime * 3;
             return caloriesFromSteps + caloriesFromCardio + caloriesFromCoolDown;
         }
 
         var burnedCalories = [];
         for (let i = 0; i < dates.length; i++) {
             let calories = calculateBurnedCalories(steps[i], cardio_time[i], cool_down_time[i]);
             burnedCalories.push(calories);
         }
 
         // Calculate heart rate
         function calculateHeartRate(steps, cardioTime, coolDownTime) {
             let heartRateFromSteps = (steps / 100) * 0.5; // 0.5 bpm per 100 steps
             let heartRateFromCardio = cardioTime * 10; // 10 bpm per minute of cardio
             let heartRateFromCoolDown = coolDownTime * 3; // 3 bpm per minute of cool down
             return heartRateFromSteps + heartRateFromCardio + heartRateFromCoolDown;
         }
 
         var heartRates = [];
         for (let i = 0; i < dates.length; i++) {
             let heartRate = calculateHeartRate(steps[i], cardio_time[i], cool_down_time[i]);
             heartRates.push(heartRate);
         }
 
         // Create the fitness chart
         var ctx = document.getElementById('fitnessChart').getContext('2d');
         var fitnessChart = new Chart(ctx, {
             type: 'bar',
             data: {
                 labels: dates,
                 datasets: [
                     {
                         label: 'Steps',
                         data: steps,
                         backgroundColor: 'rgba(255, 99, 132, 0.2)',
                         borderColor: 'rgba(255, 99, 132, 1)',
                         borderWidth: 1
                     },
                     {
                         label: 'Cardio Time (Minutes)',
                         data: cardio_time,
                         backgroundColor: 'rgba(54, 162, 235, 0.2)',
                         borderColor: 'rgba(54, 162, 235, 1)',
                         borderWidth: 1
                     },
                     {
                         label: 'Cool Down Time (Minutes)',
                         data: cool_down_time,
                         backgroundColor: 'rgba(75, 192, 192, 0.2)',
                         borderColor: 'rgba(75, 192, 192, 1)',
                         borderWidth: 1
                     }
                 ]
             },
             options: {
                 responsive: true,
                 plugins: {
                     legend: {
                         position: 'top',
                     },
                 },
                 scales: {
                     x: {
                         beginAtZero: true,
                         grid: {
                             display: true,  // Ensure the grid lines are displayed (optional)
                         },
                         ticks: {
                             autoSkip: false,  // Ensure all tick labels are displayed (optional)
                         }
                     },
                     y: {
                         beginAtZero: true,
                         grid: {
                             display: true,  // Ensure the grid lines are displayed (optional)
                         },
                         ticks: {
                             stepSize: 10,  // Adjust the step size to suit your data (optional)
                         }
                     }
                 }
             }
         });
 
         // Create the burned calories chart
         var ctx2 = document.getElementById('burnedCaloriesChart').getContext('2d');
         var burnedCaloriesChart = new Chart(ctx2, {
             type: 'bar',
             data: {
                 labels: dates,
                 datasets: [{
                     label: 'Burned Calories',
                     data: burnedCalories,
                     backgroundColor: 'rgba(255, 159, 64, 0.2)',
                     borderColor: 'rgba(255, 159, 64, 1)',
                     borderWidth: 1
                 }]
             },
             options: {
                 responsive: true,
                 scales: {
                     x: {
                         beginAtZero: true
                     },
                     y: {
                         beginAtZero: true
                     }
                 }
             }
         });
 
         // Create the heart rate chart
         var ctx3 = document.getElementById('heartRateChart').getContext('2d');
         var heartRateChart = new Chart(ctx3, {
             type: 'bar',
             data: {
                 labels: dates,
                 datasets: [{
                     label: 'Heart Rate (bpm)',
                     data: heartRates,
                     backgroundColor: 'rgba(153, 102, 255, 0.2)',
                     borderColor: 'rgba(153, 102, 255, 1)',
                     borderWidth: 1
                 }]
             },
             options: {
                 responsive: true,
                 scales: {
                     x: {
                         beginAtZero: true
                     },
                     y: {
                         beginAtZero: true
                     }
                 }
             }
         });
     </script>
 </body>
 </html>
 